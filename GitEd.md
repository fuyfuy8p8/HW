# Работа с Git

## Общее
Git — система контроля версий (файлов). Что-то вроде возможности сохраняться в компьютерных играх (в Git эквивалент игрового сохранения — коммит). 
*Важно*: добавление файлов к «сохранению» двухступенчатое: сначала добавляем файл в индекс (`git add`), потом «сохраняем» (`git commit`).
Любой файл в директории существующего репозитория может находиться или не находиться под версионным контролем (отслеживаемые и неотслеживаемые).
Отслеживаемые файлы могут быть в 3-х состояниях: неизменённые, изменённые, проиндексированные (готовые к коммиту).

## Настройки

Перед началом работы нужно выполнить некоторые настройки:

* `git config --global user.name "Your Name" # указать имя, которым будут подписаны коммиты` 
* `git config --global user.email "e@w.com"  # указать электропочту, которая будет в описании коммитера`

## Ключ к пониманию 
Ключ к пониманию концепции git — знание о «трех деревьях»:

* Рабочая директория — файловая система проекта (те файлы, с которыми вы работаете).
* Индекс — список отслеживаемых git-ом файлов и директорий, промежуточное хранилище изменений (редактирование, удаление отслеживаемых файлов).
* Директория `.git/` — все данные контроля версий этого проекта (вся история разработки: коммиты, ветки, теги и пр.).
Коммит — «сохранение» (хранит набор изменений, сделанный в рабочей директории с момента предыдущего коммита). Коммит неизменен, его нельзя отредактировать.

У всех коммитов (кроме самого первого) есть один или более родительских коммитов, поскольку коммиты хранят изменения от предыдущих состояний.

## Простейший цикл работ
* Редактирование, добавление, удаление файлов (собственно, работа).
* Индексация/добавление файлов в индекс (указание для git какие изменения нужно будет закоммитить).
* Коммит (фиксация изменений).
* Возврат к шагу 1 или отход ко сну.

## Указатели
* `HEAD` — указатель на текущий коммит или на текущую ветку (то есть, в любом случае, на коммит). Указывает на родителя коммита, который будет создан следующим.
* `ORIG_HEAD` — указатель на коммит, с которого вы только что переместили `HEAD` (командой `git reset ...`, например).
* Ветка (`master`, `develop` etc.) — указатель на коммит. При добавлении коммита, указатель ветки перемещается с родительского коммита на новый.
* Теги — простые указатели на коммиты. Не перемещаются.

## Указание неотслеживаемых файлов 

Файлы и директории, которые не нужно включать в репозиторий, указываются в файле `.gitignore`. Обычно это устанавливаемые зависимости (`node_modules/`, `bower_components/`), готовая сборка `build/` или `dist/` и подобные, создаваемые при установке или запуске. Каждый файл или директория указываются с новой строки, возможно использование шаблонов.


## `Начало работы`
Создание нового репозитория, первый коммит, привязка удалённого репозитория с gthub.com, отправка изменений в удалённый репозиторий.

#указана последовательность действий:
#создана директория проекта, мы в ней
* `git init`                      # создаём репозиторий в этой директории
touch readme.md               # создаем файл readme.md
* `git add readme.md`             # добавляем файл в индекс
* `git commit -m "Старт"`         # создаем коммит
* `git remote add origin https://github.com:nicothin/test.git` # добавляем предварительно созданный пустой удаленный репозиторий
* `git push -u origin master`     # отправляем данные из локального репозитория в удаленный (в ветку master)

## Удалённые репозитории
Есть два распространённых способа привязать удалённый репозиторий к локальному: по HTTPS и по SSH. Если SSH у вас не настроен (или вы не знаете что это), привязывайте удалённый репозиторий по HTTPS (адрес привязываемого репозитория должен начинаться с https://).

* `git remote -v`               # показать список удалённых репозиториев, связанных с локальным
* `git branch -r`              # показать удаленные ветки
* `git branch -a`              # показать все ветки(локальные и удаленные)       
* `git remote remove origin`   # убрать привязку удалённого репозитория с сокр. именем origin
* `git remote add origin https://github.com:nicothin/test.git` # добавить удалённый репозиторий (с сокр. именем origin) с указанным URL
* `git remote rm origin`       # удалить привязку удалённого репозитория
* `git remote show origin`     # получить данные об удалённом репозитории с сокращенным именем origin
* `git fetch origin`           # скачать все ветки с удаленного репозитория (с сокр. именем origin), но не сливать со своими ветками
* `git fetch origin master`    # то же, но скачивается только указанная ветка
* `git checkout --track origin/github_branch` # создать локальную ветку * * github_branch (данные взять из удалённого репозитория с сокр. именем origin, ветка github_branch) и переключиться на неё
* `git push origin master`     # отправить в удалённый репозиторий (с сокр. именем origin) данные своей ветки master
* `git pull origin `           # влить изменения с удалённого репозитория (все ветки)
* `git pull origin master`     # влить изменения с удалённого репозитория (только указанная ветка)